<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ck-multiselect-grid demo</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 2rem;
      }
      .demo-row {
        display: grid;
        gap: 1rem;
        max-width: 720px;
      }
      input {
        width: 100%;
        padding: 0.5rem;
      }
    </style>
  </head>
  <body>
    <h1>ck-multiselect-grid demo</h1>

    <div class="demo-row">
      <ck-multiselect-grid
        id="grid"
        title="Select Resource Scopes"
        description="Choose which resource scopes this client is allowed to request."
        fieldset-id="scopes-fieldset"
        fieldset-class="scope-block"
      ></ck-multiselect-grid>

      <label>
        Title
        <input id="title" value="Select Resource Scopes" />
      </label>

      <label>
        Description
        <input
          id="description"
          value="Choose which resource scopes this client is allowed to request."
        />
      </label>

      <label>
        Fieldset ID
        <input id="fieldset-id" value="scopes-fieldset" />
      </label>

      <label>
        Fieldset Classes (space-delimited)
        <input id="fieldset-class" value="scope-block" />
      </label>
    </div>

    <script type="module">
      // Requires a build output (run `npm run build` first)
      import '../dist/ck-multiselect-grid/ck-multiselect-grid.esm.js';

      const grid = document.getElementById('grid');
      const titleInput = document.getElementById('title');
      const descriptionInput = document.getElementById('description');
      const fieldsetIdInput = document.getElementById('fieldset-id');
      const fieldsetClassInput = document.getElementById('fieldset-class');

      const sync = () => {
        grid.setAttribute('title', titleInput.value);
        grid.setAttribute('description', descriptionInput.value);
        grid.setAttribute('fieldset-id', fieldsetIdInput.value || 'scopes-fieldset');

        const nextClass = fieldsetClassInput.value.trim();
        if (nextClass) {
          grid.setAttribute('fieldset-class', nextClass);
        } else {
          grid.removeAttribute('fieldset-class');
        }
      };

      titleInput.addEventListener('input', sync);
      descriptionInput.addEventListener('input', sync);
      fieldsetIdInput.addEventListener('input', sync);
      fieldsetClassInput.addEventListener('input', sync);
    </script>
  </body>
</html>
